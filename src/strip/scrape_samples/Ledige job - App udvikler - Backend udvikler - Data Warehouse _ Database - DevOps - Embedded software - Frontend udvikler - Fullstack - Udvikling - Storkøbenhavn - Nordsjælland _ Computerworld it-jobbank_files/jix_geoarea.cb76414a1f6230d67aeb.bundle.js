(self.webpackChunkjix=self.webpackChunkjix||[]).push([[3260],{11173:(e,t,r)=>{"use strict";var n=r(65311),o=r.n(n),i=r(86594);function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const s=window.Stash["widgets/jix_geoarea"];s.forEach((({id:e,stash:t})=>function init(e,t){const r=document.getElementById(e),n=(0,i.Z)(_objectSpread(_objectSpread({},t.options),{},{radius:t.radius,id_radius:-100})),s=o()(r).jix_select2(n);t.radius&&s.on("change",(()=>{const e=t.radius&&s.val().indexOf((-100).toString())>=0,r=new CustomEvent("radius_change.jix",{detail:{radius_selected:e}});s.get(0).dispatchEvent(r)})),s.val(t.init_vals).trigger("change")}(e,t)))},2784:(e,t,r)=>{"use strict";r.d(t,{Z:()=>ApiConflictError});var n=r(12369);class ApiConflictError extends n.Z{constructor(e,t,r,n=`API conflict error: ${e} ${t} [${r.status}]`){super(e,t,r,n),this.error=r.responseJSON.errors[0].error_message,this.extraData=r.responseJSON.extra_data}}},2871:(e,t,r)=>{"use strict";r.d(t,{Z:()=>ApiValidationError});var n=r(12369);class ApiValidationError extends n.Z{constructor(e,t,r,n=`API request failed validation: ${e} ${t} [${r.status}]`){super(e,t,r,n),this.errors=r.responseJSON.errors,this.warnings=r.responseJSON.warnings}}},12369:(e,t,r)=>{"use strict";r.d(t,{Z:()=>RequestError});class RequestError extends Error{constructor(e,t,r,n=`Request failed: ${e} ${t} [${r.status}]`){super(n),this.method=e,this.url=t,this.status=r.status,this.readyState=r.readyState,this.text=r.responseText,this.json=r.responseJSON}}},86594:(e,t,r)=>{"use strict";r.d(t,{Z:()=>getGeoAreaConfig});var n=r(922),o=r(93597);r(71542);function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function template(e,t){if(e.loading)return e.text;const r=(t?e.canonical_name:e.text_hl)||e.text,n=document.createElement("span");if(t)n.innerText=" "+r+" ";else{const e=document.createElement("span");e.innerHTML=r,n.append(" ",e)}const i=e.id<0;if(i){const e=new o.Z("geolocation");n.prepend(e.getElement())}if(!t){const r="badge-geoarea-typeid-"+(i?"radius":e.typeid),o=t?"area-selection":"area-result",s=document.createElement("span");s.classList.add(o,"badge",r),s.innerText=i?JIX.Gettext.__("Radius"):e.type,n.prepend(s)}return n}function getGeoAreaConfig(e={}){const t=document.documentElement.lang;let r,o,i,s=!1,a=!1,c=[],l=-100;e&&(void 0!==e.context&&(r=e.context,delete e.context),void 0!==e.radius&&(s=e.radius,delete e.radius),void 0!==e.no_country&&(a=e.no_country,delete e.no_country),void 0!==e.type_filter&&(o=e.type_filter,delete e.type_filter),void 0!==e.id_radius&&(l=e.id_radius,delete e.id_radius),void 0!==e.default_list&&(c=e.default_list.slice())),function update_default_list(){const t=c.slice();if(s){const e={id:l,text:JIX.Gettext.__("Nær placering")};t.unshift(e)}e.default_list=t}();const u=function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({multiple:!0,minimumInputLength:0,ajax:{transport:async(e,t,r)=>{if(0===e.data.q.trim().length){t({results:[]})}else{const o=await(0,n.hi)("GET",function api_url(e){return"/api/geo/v1/"+e}("suggest-name"),e.data);o.success?t(o):r()}},delay:250,data:e=>(i=e.term?e.term.trim().toLowerCase():"",{q:i,context:r,lang:t,no_country:a?1:0,type_filter:o}),cache:!0,processResults:t=>(0===i.length&&(t.results=e.default_list),t)},width:"100%",dropdownCssClass:"bigdrop",containerCssClass:"form-control",templateResult:e=>template(e,0),templateSelection:e=>template(e,1)},e);return u}},93597:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(60611),o=r(36138);const i=class{constructor(e,t){this._name=(0,n.ref)(e),this._app=(0,n.createApp)(o.Z,{name:this._name.value,size:t});const r=document.createElement("div");this._vm=this._app.mount(r)}setName(e){this._name.value=e}getVm(){return this._vm}getElement(){return this._vm.$el}}},922:(e,t,r)=>{"use strict";r.d(t,{Bk:()=>concatName,Dk:()=>setDocumentTitle,HT:()=>compareResponsiveBreakpoint,JB:()=>getNumberFormatter,Kd:()=>getLocale,LQ:()=>u,Nb:()=>uniqueArray,QM:()=>formatByteSize,Sy:()=>shuffleArray,Vt:()=>stripHtml,WU:()=>format,ZO:()=>getResponsiveBreakpoint,aS:()=>truncateString,hi:()=>api,ks:()=>getCurrencyFormatter});var n=r(65311),o=r.n(n),i=r(53495),s=r(12369),a=r(2871),c=r(2784),l=r(60611);function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function shuffleArray(e){for(let t=e.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}function uniqueArray(e){return e.filter(((e,t,r)=>r.indexOf(e)===t))}function concatName({firstname:e,middlename:t,lastname:r}){return[e,t,r].join(" ").trim()}function format(e,t){return Object.keys(t).reduce(((e,r)=>e.replace(new RegExp("{"+r+"}","g"),t[r])),e)}function getCurrencyFormatter(e,t=getLocale()){return new Intl.NumberFormat(t,{style:"currency",currency:e,minimumFractionDigits:0})}function getNumberFormatter(e=getLocale()){return new Intl.NumberFormat(e)}function formatByteSize(e,t="MB",r="B"){let n={B:0,KB:1,MB:2,GB:3,TB:4},o=n[r]-n[t];return(e*Math.pow(1024,o)).toFixed(2)}function api(e,t,r={},n={}){const l=function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({method:e,url:t,data:r,traditional:!0,headers:{}},n);return window.Stash&&window.Stash.common&&window.Stash.common.csrf_token&&(l.headers["X-CSRF-Token"]=window.Stash.common.csrf_token),(0,i.Z)(o().ajax(l)).catch((r=>{throw 422===r.status?new a.Z(e,t,r):409===r.status?new c.Z(e,t,r):new s.Z(e,t,r)}))}const u=["xs","sm","md","lg","xl"];function getResponsiveBreakpoint(){const e=window.innerWidth;return e>=1200?"xl":e>=992?"lg":e>=768?"md":e>=576?"sm":"xs"}function compareResponsiveBreakpoint(e){const t=u.indexOf(e);if(t<0)throw Error("Invalid breakpoint");const r=getResponsiveBreakpoint(),n=u.indexOf(r);return Math.sign(n-t)}function getLocale(e="en-GB"){return document.querySelector("html").getAttribute("lang")||e}function stripHtml(e){const t=document.createElement("div");return t.innerHTML=e,t.textContent}function truncateString(e,t,r="…"){if(e.length<=t)return e;const n=t-r.length;return[...e].slice(0,n).join("")+r}function setDocumentTitle(e){if(e){let t=(0,l.unref)(e);t=Array.isArray(t)?t:[t],document.title=[...t,window.Stash.common.sitename].join(" | ")}else document.title=window.Stash.common.sitename}},53495:(e,t,r)=>{"use strict";function toNativePromise(e){return new Promise(((t,r)=>{e.then(t,r)}))}r.d(t,{Z:()=>toNativePromise})},60611:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BaseTransition:()=>n.P$,BaseTransitionPropsValidators:()=>n.nJ,Comment:()=>n.sv,EffectScope:()=>n.Bj,Fragment:()=>n.HY,KeepAlive:()=>n.Ob,ReactiveEffect:()=>n.qq,Static:()=>n.qG,Suspense:()=>n.n4,Teleport:()=>n.lR,Text:()=>n.xv,Transition:()=>n.uT,TransitionGroup:()=>n.W3,VueElement:()=>n.a2,VueSentry:()=>s,assertNumber:()=>n.Wu,callWithAsyncErrorHandling:()=>n.$d,callWithErrorHandling:()=>n.KU,camelize:()=>n._A,capitalize:()=>n.kC,cloneVNode:()=>n.Ho,compatUtils:()=>n.ry,compile:()=>n.MY,computed:()=>n.Fl,createApp:()=>createApp,createBlock:()=>n.j4,createCommentVNode:()=>n.kq,createElementBlock:()=>n.iD,createElementVNode:()=>n._,createHydrationRenderer:()=>n.Eo,createPropsRestProxy:()=>n.p1,createRenderer:()=>n.Us,createSSRApp:()=>n.vr,createSlots:()=>n.Nv,createStaticVNode:()=>n.uE,createTextVNode:()=>n.Uk,createVNode:()=>n.Wm,customRef:()=>n.ZM,defineAsyncComponent:()=>n.RC,defineComponent:()=>n.aZ,defineCustomElement:()=>n.MW,defineEmits:()=>n.Bz,defineExpose:()=>n.WY,defineModel:()=>n.Gn,defineOptions:()=>n.Yu,defineProps:()=>n.yb,defineSSRCustomElement:()=>n.Ah,defineSlots:()=>n.Wl,devtools:()=>n.mW,effect:()=>n.cE,effectScope:()=>n.B,getCurrentInstance:()=>n.FN,getCurrentScope:()=>n.nZ,getTransitionRawChildren:()=>n.Q6,guardReactiveProps:()=>n.F4,h:()=>n.h,handleError:()=>n.S3,hasInjectionContext:()=>n.EM,hydrate:()=>n.ZB,initCustomFormatter:()=>n.Mr,initDirectivesForSSR:()=>n.Nd,inject:()=>n.f3,isMemoSame:()=>n.nQ,isProxy:()=>n.X3,isReactive:()=>n.PG,isReadonly:()=>n.$y,isRef:()=>n.dq,isRuntimeOnly:()=>n.of,isShallow:()=>n.yT,isVNode:()=>n.lA,markRaw:()=>n.Xl,mergeDefaults:()=>n.u_,mergeModels:()=>n.Vf,mergeProps:()=>n.dG,nextTick:()=>n.Y3,normalizeClass:()=>n.C_,normalizeProps:()=>n.vs,normalizeStyle:()=>n.j5,onActivated:()=>n.dl,onBeforeMount:()=>n.wF,onBeforeUnmount:()=>n.Jd,onBeforeUpdate:()=>n.Xn,onDeactivated:()=>n.se,onErrorCaptured:()=>n.d1,onMounted:()=>n.bv,onRenderTracked:()=>n.bT,onRenderTriggered:()=>n.Yq,onScopeDispose:()=>n.EB,onServerPrefetch:()=>n.vl,onUnmounted:()=>n.SK,onUpdated:()=>n.ic,openBlock:()=>n.wg,popScopeId:()=>n.Cn,provide:()=>n.JJ,proxyRefs:()=>n.WL,pushScopeId:()=>n.dD,queuePostFlushCb:()=>n.qb,reactive:()=>n.qj,readonly:()=>n.OT,ref:()=>n.iH,registerRuntimeCompiler:()=>n.Y1,render:()=>n.sY,renderList:()=>n.Ko,renderSlot:()=>n.WI,resolveComponent:()=>n.up,resolveDirective:()=>n.Q2,resolveDynamicComponent:()=>n.LL,resolveFilter:()=>n.eq,resolveTransitionHooks:()=>n.U2,setBlockTracking:()=>n.qZ,setDevtoolsHook:()=>n.ec,setTransitionHooks:()=>n.nK,shallowReactive:()=>n.Um,shallowReadonly:()=>n.YS,shallowRef:()=>n.XI,ssrContextKey:()=>n.Uc,ssrUtils:()=>n.G,stop:()=>n.sT,toDisplayString:()=>n.zw,toHandlerKey:()=>n.hR,toHandlers:()=>n.mx,toRaw:()=>n.IU,toRef:()=>n.Vh,toRefs:()=>n.BK,toValue:()=>n.Tn,transformVNodeArgs:()=>n.C3,triggerRef:()=>n.oR,unref:()=>n.SU,useAttrs:()=>n.l1,useCssModule:()=>n.fb,useCssVars:()=>n.sj,useModel:()=>n.tT,useSSRContext:()=>n.Zq,useSlots:()=>n.Rr,useTransitionState:()=>n.Y8,vModelCheckbox:()=>n.e8,vModelDynamic:()=>n.YZ,vModelRadio:()=>n.G2,vModelSelect:()=>n.bM,vModelText:()=>n.nr,vShow:()=>n.F8,version:()=>n.i8,warn:()=>n.ZK,watch:()=>n.YP,watchEffect:()=>n.m0,watchPostEffect:()=>n.Rh,watchSyncEffect:()=>n.yX,withAsyncContext:()=>n.mv,withCtx:()=>n.w5,withDefaults:()=>n.b9,withDirectives:()=>n.wy,withKeys:()=>n.D2,withMemo:()=>n.MX,withModifiers:()=>n.iM,withScopeId:()=>n.HX});var n=r(29812),o=r(77594),i=r(77444);const s={install(e){(0,i.W)(e,{logErrors:!0})}};function createApp(...e){return(0,o.ri)(...e).use(s)}},36138:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(60611);const o=["xlink:href"],i={__name:"SvgIcon",props:{name:{type:String,required:!0},size:{type:String,required:!1,default:()=>"inline",validator:e=>["inline","micro","mini","xs","sm","md","lg"].includes(e)}},setup:e=>(t,r)=>((0,n.openBlock)(),(0,n.createElementBlock)("svg",{class:(0,n.normalizeClass)(["svg-icon","svg-icon--"+e.size])},[(0,n.createElementVNode)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#svg-"+e.name},null,8,o)],2))}},65311:e=>{"use strict";e.exports=jQuery},71542:()=>{}},e=>{e.O(0,[7444,9812],(()=>{return t=11173,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=jix_geoarea.cb76414a1f6230d67aeb.bundle.js.map