"use strict";(self.webpackChunkjix=self.webpackChunkjix||[]).push([[6512],{37162:(e,t,i)=>{var a=i(65311),r=i.n(a),n=(i(49568),i(41045),i(60611)),s=i(95180),o=i(34821),l=i(5839);function ownKeys(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const c=window.Stash["jobsearch/search"],JobSearch=function(e,t){const i=this;i.loading=!1,i.enable_pushstate=!0,i.search_xhr=null,i.$form=e,i.options=t,i.init=function(){i.initFormSubmission(),i.initPushState(),i.elementsManager=new o.Z,i.initTraveltime()},i.replaceHitCounters=function(e){r()("#filter_sidebar span.counter").each((function(){const t=r()(this),i=t.attr("id");if(0===i.indexOf("hits_")){const a=i.substring(5);let n="";0===a.indexOf("geoareaid")?n=e.areahits[a.substring(9)]:0===a.indexOf("supid")?n=e.suphits[a.substring(5)]:0===a.indexOf("subid")?n=e.subhits[a.substring(5)]:0===a.indexOf("jobage")&&(n=e.jobagehits[a.substring(6)]),null!=n&&""!==n||(n="0");const s=r()("<span>");s.attr("class","counter"),s.attr("id",i),s.append(n),t.replaceWith(s)}}))},i.replaceUrls=function(e){r()("#filters a:not(.title,.card-header)").each((function(){const t=r()(this),i=t.attr("id");let a="";if(0===i.indexOf("geoareaid"))a=e.geoareaid_urls[i.substring(9)];else if(0===i.indexOf("subid")){a=e.subid_urls[i.substring(5)][t.parent().parent().parent().parent().children("a.title").attr("id").substring(5)]}else if(0===i.indexOf("supid"))a=e.supid_urls[i.substring(5)];else if(0===i.indexOf("jobage")){const t=i.substring(6)||"default";a=e.jobage_urls[t]}t.attr("href",a)}))},i.insertHiddenField=function(e,t){const i=r()("<input>");i.attr("type","hidden"),i.attr("value",t),i.attr("name",e),r()("#search_box_hidden_fields").append(i)},i.setField=function(e,t){let a=null;if("geoareaid"===e)a=r()("#geoareas");else if("subid"===e)a=r()("#category");else{if("jobage"===e)return a=r()("#jobage"),a.val(t),a.multiselect("refresh"),void a.trigger("change");"companyid"===e?a=r()("#companies"):"flag"===e&&(a=r()("#flag"))}if(null!=a&&a.length>0){const i=a.val()||[];i.push(t),a.val(i),"companyid"===e||"geoareaid"===e?a.trigger("change"):a.multiselect("refresh")}else i.insertHiddenField(e,t)},i.unsetField=function(e,t){let a=null;if("geoareaid"===e)a=r()("#geoareas");else if("radius"===e){const e=r()("#geoareas",i.$form),t=e.val(),a=r().grep(t,(function(e){return e>0}));e.val(a).trigger("change")}else"subid"===e?a=r()("#category"):"companyid"===e?a=r()("#companies"):"flag"===e&&(a=r()("#flag"));if(null!=a&&a.length>0){const i=a.val().filter((e=>e!==t));a.val(i),"companyid"===e||"geoareaid"===e?a.trigger("change"):a.multiselect("refresh")}else a=r()("#search-component :input[name='"+e+"'][value='"+t+"']"),a.remove()},i.setVisualSelection=function(e,t){let i;if("geoareaid"===e)i=r()("#"+e+t),i.parent().attr("class","checkbox-holder is-selected");else if("subid"===e)i=r()("a."+e+t),i.parent().attr("class","checkbox-holder is-selected");else if("supid"===e)i=r()("#"+e+t),i.attr("class").indexOf("title")>=0&&i.attr("class","title is-selected");else if("jobage"===e){r()("#jobages").children().each((function(){const e=r()(this);e.find("a").attr("id")==="jobage"+t?e.attr("class","radiobutton-holder is-selected"):e.attr("class","radiobutton-holder")}))}},i.setSelection=function(e,t){i.setField(e,t),i.setVisualSelection(e,t)},i.setVisualAllFilterSelections=function(e){r()("#filtersholder a.title.is-selected").attr("class","title"),r()("#filtersholder div.checkbox-holder.is-selected").attr("class","checkbox-holder"),i.setVisualSelection("jobage",""),r().each(e,(function(e,t){"geoareaid"===e||"supid"===e||"subid"===e?r().isArray(t)?r().each(t,(function(t,a){i.setVisualSelection(e,a)})):i.setVisualSelection(e,t):"jobage"===e&&i.setVisualSelection(e,t)}))},i.clickHandlerRegionCategorySub=function(e,t,a){const r=t.attr("id");if(null!=r&&0===r.indexOf(a)){e.preventDefault();const n=r.substring(a.length);t.parent().attr("class").indexOf("is-selected")>=0?i.unsetField(a,n):i.setField(a,n),i.$form.trigger("submit")}},i.clickHandlerJobage=function(e,t,a){const r=t.attr("id");if(null!=r&&0===r.indexOf(a)){e.preventDefault();const t=r.substring(a.length);i.setField(a,t),i.$form.trigger("submit")}},i.initFormSubmission=function(){i.$form.on("submit",i.reloadResults),r()("#results").on("click","#yourchoices a.your_choices_label",(function(e){e.preventDefault();const t=r()(this),a=t.data("param"),n=""+t.data("value");if("jobage"===a)i.setSelection("jobage",""),"archive"===n&&i.unsetField("archive","1");else if("param"===a){const e=r()("#search-component :input[name='"+n+"']"),i=new URL(t.attr("href"),location.href).searchParams.get(n);e.val(i)}null!=n&&i.unsetField(a,n),i.$form.trigger("submit")}));const e=[["area","geoareaid"],["sub","subid"],["sup","supid"],["category"]];for(const[t,a]of e)r()("#results").on("click","a."+t+"_label",(function(e){i.clickHandlerRegionCategorySub(e,r()(this),a)}));r()("#results").on("click","a.jobage_label",(function(e){const t=r()(this);i.clickHandlerJobage(e,t,"jobage")})),r()("#results").on("click",".pagination a",(function(e){const t=r()(this).attr("href");if(null!=t&&(t.indexOf("&page=")>=0||t.indexOf("?page=")>=0)){e.preventDefault();const a=t.substring(t.indexOf(t.indexOf("&page=")>=0?"&page=":"?page=")+6),n=a.indexOf("&")>=0?a.substring(t.indexOf("&")):a;r()("#page_field").val(n),window.scrollTo(0,0),i.$form.trigger("submit")}}))},i.sendAnalyticsEvent=function(e){window.jixAnalytics&&window.jixAnalytics("pageview",{path:location.pathname+location.search,title:e}),window.pp_gemius_identifier2&&window.pp_gemius_hit&&window.pp_gemius_hit(window.pp_gemius_identifier2)},i.initPushState=function(){const e=i.getSearchState();if(void 0!==history.replaceState){const t=new URL(r()("#ajax_canonical_link").attr("href"),location.href),i=t.pathname+t.search;history.replaceState({jobsearch:!0,search:e},"",i)}r()(window).on("popstate",(function(e){const a=e.originalEvent.state;if(null!==a&&"object"==typeof a&&(void 0===a.jobsearch||!a.jobsearch))return;let n;if(null===a||"object"!=typeof a)return;n=a.search,r()(":input",i.$form).not(":button, :submit, :reset, :hidden, [type=checkbox]").val("").prop("selected",!1),r()(":checked",i.$form).prop("checked",!1),r()("div #search_box_hidden_fields").children().remove(),r()("#filtersholder a.title.is-selected").attr("class","title"),r()("#filtersholder div.checkbox-holder.is-selected").attr("class","checkbox-holder");let s=r()("#geoareas");s.val([]).trigger("change"),"stedk"!==t.user&&"itjdk"!==t.user&&(s=r()("#category"),s.val([]),s.multiselect("refresh"),i.setVisualSelection("jobage",""),s=r()("#companies"),s.val("").trigger("change")),r().each(n,(function(e,t){const a=r()(':input[name="'+e+'"]',i.$form),n=a.attr("type");if("companyid"===e||"companyids"===e||"company"===e||"customer_companyid"===e||"geoareaid"===e||"latitude"===e||"longitude"===e||"radius"===e||"address"===e||"supid"===e||"subid"===e||"flag"===e||"archive"===e||"doublet"===e||"lang"===e)r().isArray(t)?r().each(t,(function(t,a){i.setSelection(e,a)})):i.setSelection(e,t);else switch(n){case"checkbox":"object"!=typeof t&&(t=[t]),r().each(t,(function(e,t){a.filter('[value="'+t+'"]').prop("checked",!0)}));break;case"radio":a.filter('[value="'+t+'"]').prop("checked",!0);break;default:a.val(t)}})),i.enable_pushstate=!1,i.$form.trigger("submit"),i.enable_pushstate=!0,i.sendAnalyticsEvent(a.title)}))},i.getSearchStateFromFormData=function(e){const t=new URLSearchParams(e),i={};for(const[a,r]of t)null!=a&&("string"!=typeof r||"jobage"===a||""!==r&&"0"!==r)&&(i[a]?(Array.isArray(i[a])||(i[a]=[i[a]]),i[a].push(r)):i[a]=r);return i},i.getSearchState=function(){const e=i.$form.serialize();return i.getSearchStateFromFormData(e)},i.reloadResults=function(){const e=r()(this).serialize(),a=i.enable_pushstate,n=i.getSearchStateFromFormData(e);i.search_xhr&&i.search_xhr.abort();return r()("#lock_while_searching").block({message:null,overlayCSS:{backgroundColor:"#fff",opacity:.7,cursor:"progress"},applyPlatformOpacityRules:!1}),i.search_xhr=r().ajax({url:i.options.callbacks.load,data:e}).done((function(e){if(e.redirect)return void(window.location.href=e.redirect_url);if(a&&void 0!==history.pushState){const t=new URL(e.ajax_canonical,location.href),a=t.pathname+t.search;history.replaceState(function _objectSpread(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(i),!0).forEach((function(t){_defineProperty(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({title:document.title},history.state),""),history.pushState({jobsearch:!0,search:n,title:e.title},"",a),i.sendAnalyticsEvent(e.title)}const t=document.getElementById("jobsearch-cv-banner-container");if(t){const i=new URL(e.ajax_canonical).searchParams.get("page")||1;t.hidden=i>1}r()("#yourchoices").replaceWith(r()(e.your_choices_html.trim())),r()("#jix_jobsearch_teaser_box").replaceWith(r()(e.teasers_html.trim())),i.replaceHitCounters(e.job_list_facets),i.replaceUrls(e.url_maps),r()("#page_field").val(""),r()('link[rel="canonical"]').attr("href",e.link_canonical),r()(document).attr("title",e.title),void 0!==e.jobmail_popup_html&&null!==e.jobmail_popup_html&&(r()("#jobmail_popup_block").replaceWith(r()(e.jobmail_popup_html.trim())),r()("#jobmail_popup").length&&jobmail_popup_ready()),i.setVisualAllFilterSelections(n),r()(".jix_sidebar_skyscraper").replaceWith(r()(e.skyscraper_html.trim())),r()(".jix_pagination_total").replaceWith(r()(e.hitcount_html.trim())),r()(".jobsearch-map-switcher").replaceWith(r()(e.map_switcher_html.trim())),r()(".jobsearch-traveltime-edit").replaceWith(r()(e.traveltime_edit_html.trim())),r()(".jobsearch-header").replaceWith(r()(e.header_html.trim())),r()("#job_result_click_stat_buttons").replaceWith(r()(e.click_stat_buttons_html.trim())),r()("#result_list_box").fadeOut("fast",(function(){r()(this).remove()})),r()(e.result_list_box_html.trim()).fadeIn("fast").promise().done((function(){r()(this).insertBefore("#loading"),r()(this).trigger("reloaded.jix.jobsearch"),i.elementsManager.handleReload(),JIX.registerExposure?JIX.registerExposure("[data-beacon-tid]"):Sentry.captureMessage("JIX.registerExposure is not defined")})),r()("#lock_while_searching").unblock(),document.activeElement.blur()})).fail((function(){r()("#lock_while_searching").unblock(),alert(t.ajax_error_text)})),!1},i.initTraveltime=function(){const e=document.getElementById("traveltime-modal");if(!e)return;const t=e.querySelector("form"),a=e.querySelector("#traveltime-transportation"),o=(0,n.shallowReactive)({modelValue:"",required:!0,"onUpdate:modelValue":e=>o.modelValue=e});(0,n.createApp)((()=>(0,n.h)(l.Z,o))).mount("#traveltime-address"),r()(e).on("show.bs.modal",(()=>{o.modelValue=r()("input[name=address]",i.$form).val(),a.value=(0,s.Mf)()})),t.addEventListener("submit",(t=>{t.preventDefault(),r()("input[name=address]",i.$form).val(o.modelValue),(0,s.Z5)(a.value),i.$form.trigger("submit"),r()(e).modal("hide")}))}};r()((()=>{new JobSearch(r()("form#jobsearch"),c).init()}))},41045:e=>{e.exports="blockui"},49568:e=>{e.exports="bootstrap-multiselect"},20779:e=>{e.exports=bootbox},65311:e=>{e.exports=jQuery}},e=>{e.O(0,[7444,9812,5457,4821,5839],(()=>{return t=37162,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=search.80289a3bf06323941017.bundle.js.map