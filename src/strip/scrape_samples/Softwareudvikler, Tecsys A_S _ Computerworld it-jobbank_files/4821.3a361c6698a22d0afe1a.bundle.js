(self.webpackChunkjix=self.webpackChunkjix||[]).push([[4821],{2784:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ApiConflictError});var o=n(12369);class ApiConflictError extends o.Z{constructor(e,t,n,o=`API conflict error: ${e} ${t} [${n.status}]`){super(e,t,n,o),this.error=n.responseJSON.errors[0].error_message,this.extraData=n.responseJSON.extra_data}}},2871:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ApiValidationError});var o=n(12369);class ApiValidationError extends o.Z{constructor(e,t,n,o=`API request failed validation: ${e} ${t} [${n.status}]`){super(e,t,n,o),this.errors=n.responseJSON.errors,this.warnings=n.responseJSON.warnings}}},12369:(e,t,n)=>{"use strict";n.d(t,{Z:()=>RequestError});class RequestError extends Error{constructor(e,t,n,o=`Request failed: ${e} ${t} [${n.status}]`){super(o),this.method=e,this.url=t,this.status=n.status,this.readyState=n.readyState,this.text=n.responseText,this.json=n.responseJSON}}},95180:(e,t,n)=>{"use strict";n.d(t,{Mf:()=>getSelection,Z5:()=>setSelection,ZP:()=>ToolbarDistance});var o=n(65311),r=n.n(o);const a="jix.traveltime_selection";let s="distance";function getSelection(){try{let e=window.localStorage.getItem(a);return"undefined"===e&&(e=null),e||s}catch(e){return s}}function setSelection(e){try{window.localStorage.setItem(a,e)}finally{s=e}}class ToolbarDistance{constructor(){r()(document.body).on("click",(e=>{0===r()(e.target).closest(".job-distance-dropdown").length&&this.updateDOM()})),this.handleReload()}updateDOM(e){const t=getSelection();r()(".job-distance-dropdown").each(((n,o)=>{const a=r()(o);e&&a.is(e)||(a.data("state","closed"),a.attr("data-state","closed"),a.find(".job-distance-dropdown__list li").each(((e,n)=>{const o=r()(n),s=o.data("type")===t;o.prop("hidden",s),s&&a.prev(".job-distance").html(o.html()).attr("title",o.attr("title"))})))}))}handleReload(){this.updateDOM(),r()(".job-distance-dropdown").closest(".jobad-element-distance, .toolbar-distance").addClass("jobad-element-distance-dropdown");const handler=e=>{e.stopPropagation();const t=r()(e.currentTarget).find(".job-distance-dropdown");if(this.updateDOM(t),"open"===t.data("state")){const n=r()(e.target).closest("li[data-type]",t.get(0));n.length?(setSelection(n.data("type")),this.updateDOM(),window.jixAnalytics("event",{category:"jobannonce",action:"select",label:"afstand-"+n.data("type")})):0===r()(e.target).closest(".job-distance-dropdown__list",t).length&&this.updateDOM()}else t.data("state","open"),t.attr("data-state","open")};r()(".jobad-element-distance-dropdown").on("click",handler).on("keydown",(e=>{"Enter"!==e.originalEvent.code&&"Space"!==e.originalEvent.code||(e.preventDefault(),handler(e))}))}}},34821:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ElementsManager});var o=n(65311),r=n.n(o),a=n(95180),s=n(91949),i=n(28459);class Menu{constructor(e){this.container=e.container||document.body,this.handleReload()}handleReload(){for(const e of this.container.querySelectorAll(".jobad-element-menu"))this._setup(e)}_setup(e){const t=r()(e.querySelector(".jobad-element-menu-share"));e.querySelector(".jobad-element-menu-errorreport").addEventListener((()=>{window.jixAnalytics("event",{category:"jobannonce",action:"click",label:"errorreport"})}));for(const n of e.querySelectorAll("[data-share]"))n.addEventListener("click",(()=>{const e="del-"+n.getAttribute("data-share");window.jixAnalytics("event",{category:"jobannonce",action:"click",label:e})}));if(i._()){const n=e.querySelector("[data-share=native]");n.hidden=!1,n.addEventListener("click",(e=>{e.preventDefault(),i.B(t)}))}(0,s.c)(t,{linkSelector:"[data-share=link]"})}}var c=n(37165),l=n(37099),d=n(80947);n(63091),n(42065);const u=".jobad-element-myjob",{__:h}=JIX.Gettext;class MyjobInstance{constructor(e,t,n){this.manager=e,this.options=n,this.$el=t,this.$link=t.find("a"),t.data("instance",this)}async handleClick(e){e.preventDefault();const t=this.$el.data("state");"saving"!==t&&await this._performAction(t)}async _performAction(e){const t=this.$el.data("state");this.$el.data("state","saving");const n=this._getJobId(),o={saved:()=>(0,c.Sn)({tid:n}),unsaved:()=>(0,c.l8)({tid:n})}[e],r=this.$el.find("a").attr("href"),a=r?()=>{location.href=r}:null;try{const n=await async function wrapLogin(e,t){const n=await(0,l.X)();if(n===l.n.UNKNOWN){if(t)return t();throw new Error("loginResult is UNKNOWN without fallback handler")}if(n===l.n.ABORTED)return;const o=await e();if(n===l.n.ALREADY_LOGGED_IN)return o;window.location.reload()}(o,a);if(n){const t=this.manager.findOutermostJobAd(this.$el);this.manager.replaceElements(t,n.jobad_elements),"unsaved"===e&&this._trackEvent("gem-job")}else this.$el.data("state",t)}catch(s){console.error(s),this.$el.data("state",t),window.Sentry.captureException(s),(0,d.Z)().createToast({title:h("Gem job"),message:h("saved"===e?"Det gemte job kunne ikke slettes.":"Jobbet kunne ikke gemmes."),type:"danger"}).show()}}_updateElement({state:e,label:t,url:n,icon:o}){this.$el.data("state",e);const r=this.$el[0].querySelector("svg");r.querySelector("use").setAttribute("xlink:href","#svg-"+o),r.nextSibling.textContent=t;this.$el[0].querySelector("a").setAttribute("href",n)}_getJobId(){return this.manager.getJobadId(this.manager.findClosestJobAd(this.$el))}_trackEvent(e){window.jixAnalytics("event",{category:"jobannonce",action:"click",label:e})}}class Myjob{constructor(e,t){this.manager=e,this.options=t,this.activated={};const onClick=(e,t)=>{const n=r()(e);this._getInstance(n).handleClick(t)};r()(document).on("click",u,(e=>{onClick(e.currentTarget,e)}))}_getInstance(e){let t=e.data("instance");return t||(t=new MyjobInstance(this.manager,e,this.options)),t}replaceInstance(e,t){const n=e.get(0),o=n.matches(u)?[n]:n.querySelectorAll(u);for(const a of o){const e=r()(a);if("object"==typeof t)this._getInstance(e)._updateElement(t);else{const n=r()(t);e.replaceWith(n)}}}}var p=n(53495),m=n(74933),f=n(68987);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b="jix_companyfollow_dialog",g=".jobad-element-company-follow";function getJsonUrl(e){return e.replace(/(\?|$)/,".json$1")}function changeFollowStatus(e,t){return function makeRequest(e,t,n={}){return(0,p.Z)(r().ajax({method:e,url:getJsonUrl(t),data:_objectSpread(_objectSpread({},n),{},{csrf_token:window.Stash.common.csrf_token})}))}("POST",e,{check_confirm:t.checkConfirm?"yes":null}).then((e=>e.confirm?{showConfirm:!0,cvissues:e.cvissues}:(e.following&&window.jixAnalytics("event",{category:"jobannonce",action:"click",label:"fÃ¸lg-virksomhed"}),{following:e.following})))}function confirmFollowCompany(e,t){const n=r()("#"+b),o=(0,m.Z)(n,"button.do_follow");return(0,f.Z)(n,t),n.modal(e),o}class CompanyFollow{constructor(){if(!document.getElementById(b))throw new Error("Company follow dialog element is not present");r()(document).on("click",".jobad-element-company-follow a",(e=>{e.preventDefault();const t=r()(e.currentTarget),n=t.closest(g),o=t.attr("href");(0,l.X)().then((e=>e!==l.n.ABORTED?changeFollowStatus(o,{checkConfirm:!0}).then((({showConfirm:e,cvissues:t,following:n})=>e?confirmFollowCompany({},t).then((({accepted:e})=>e?changeFollowStatus(o,{}):{})):{following:n})).then((({following:e})=>n.toggleClass("following",!!e))).then((()=>e)):e)).then((e=>{e===l.n.LOGGED_IN&&window.location.reload()}),(e=>{window.Sentry.captureException(e)}))}))}}const w=".jobad-element-myjob-interest",y=window.Stash.common.csrf_token;function MyjobInterest_getJsonUrl(e){return e.replace(/(\?|$)/,".json$1")}class LoginRequired extends Error{}const v=Object.freeze({SUCCESS:"success",ABORTED:"aborted"});class MyjobInterest{constructor(e){this.manager=e,this.loggedInUser=!1,r()(document).on("click",".jobad-element-myjob-interest a",(e=>{e.preventDefault();const t=r()(e.currentTarget);t.data("ignore")||(t.data("ignore",!0),(0,l.X)().then((e=>(this.loggedInUser=e===l.n.LOGGED_IN,e!==l.n.ABORTED?this._handleClick(t).then((()=>e)):e))).then((e=>{e===l.n.LOGGED_IN&&window.location.reload()}),(e=>{if(!(e instanceof LoginRequired))throw e;window.location=t.attr("href")})).finally((()=>t.data("ignore",!1))))}))}replaceInstance(e,t){const n=e.find(w);if("object"==typeof t)n.find("a").attr("href",t.url).text(t.label);else{const e=r()(t);n.replaceWith(e)}}_handleClick(e){const t=e.attr("href").replace(/\/[^/]*\/?$/,"/contactinfo");return(0,p.Z)(r().get(MyjobInterest_getJsonUrl(t))).then((t=>{if(void 0!==t.error)throw new Error("An error occurred: "+t.error);if(t.nouser)throw new LoginRequired;return"y"===t.cvissues?this.loggedInUser?v.SUCCESS:this._changeContact(e):this._addContact(e,t)}))}_addContact(e,t){return t.show_confirmation||"n"!==t.cvissues?this._allowContactDialog(e,t):this._changeContact(e,{},{isNew:"y"!==t.cvissues})}_allowContactDialog(e,t){const n=r()("#jix_allow_contact_dialog"),o=(0,m.Z)(n,"button.do_allow_contact").then((({accepted:t})=>{if(t){const t={isNew:!0,fromModal:!0},o={};return r()("input[name=remember]",n).is(":checked")&&Object.assign(o,{remember:"y"}),this._changeContact(e,o,t)}return v.ABORTED}));return(0,f.Z)(n,t.cvissues),(0,c.zU)({tid:e.data("tid")}).then((e=>{n.find("#contact_dialog_company").text(e),n.modal(this._modalOptions())})),o}_changeContact(e,t,n={}){t=Object.assign({csrf_token:y},t);const o=this.manager.findClosestJobAd(e),a=e.attr("href");return(0,p.Z)(r().post(MyjobInterest_getJsonUrl(a),t)).then((t=>{if(void 0!==t.error)throw"login-required"===t.error?new LoginRequired(a):new Error("Unknown error: "+t.error);if(n.isNew&&(t.myjob_added?window.jixAnalytics("event",{category:"jobannonce",action:"click",label:"vis-interesse-og-gem"}):window.jixAnalytics("event",{category:"jobannonce",action:"click",label:"vis-interesse"})),this.manager.replaceElements(o,t.elements),e=null,""===t.mycompany_addurl||!n.fromModal)return v.SUCCESS;this._confirmFollow(t).then((()=>v.SUCCESS))}))}_confirmFollow(e){return confirmFollowCompany(this._modalOptions(),"dismiss").then((({accepted:t})=>{if(t)return this._followCompany(e)}))}_followCompany(e){const t=e.mycompany_addurl;return(0,p.Z)(r().post(t,{csrf_token:y})).then((()=>(window.jixAnalytics("event",{category:"jobannonce",action:"click",label:"vis-interesse-fÃ¸lg-virksomhed"}),v.SUCCESS)))}_modalOptions(){return this.loggedInUser?{show:!0,backdrop:"static",keyboard:!1}:{show:!0}}}n(31916),n(35098),n(62428),n(52429),n(19606);class Share{constructor(e){this.popoverContainer=e.container||document.body;const t=".jobad-element-share a";r()(document).on("click",t,(e=>{e.preventDefault();const t=r()(e.currentTarget);this.toggleSharePopover(t),window.jixAnalytics("event",{category:"jobannonce",action:"click",label:"del"})})),r()(document).on("click",(e=>{0===r()(e.target).closest(t).length&&r()(t).each(((e,t)=>{r()(t).data("popover-loaded")&&r()(t).popover("hide")}))}))}toggleSharePopover(e){1===e.siblings(".popover").length?e.popover("hide"):this.showSharePopover(e)}showSharePopover(e){if(e.data("popover-loaded"))e.popover("show");else{const t=e.data("share-popup-url");r().get(function Share_getJsonUrl(e){return e.replace(/(\?|$)/,".json$1")}(t)).then((t=>{if(void 0!==t.error)return void console.error("An error occurred:",t.error);const n=r()(t.html);(0,s.c)(n,{container:this.popoverContainer}),n.on("click","> a, > button",(e=>{const t=e.currentTarget,extract=(e,t)=>{const n=(e||"").match(t);return n?n[1]:""};let n=extract(t.className,/social-share-(\w+)/);n||"A"!==t.tagName||(n=extract(t.hostname,/(\w+)\.\w+$/)),n||(n="unknown"),window.jixAnalytics("event",{category:"jobannonce",action:"click",label:`del-${n}`})})),i._()&&r()(".social-share-native",n).prop("hidden",!1).on("click",(t=>{t.preventDefault(),i.B(e)})),e.popover({container:this.popoverContainer,html:!0,placement:"top",content:n,trigger:"manual"}),e.popover("show"),e.data("popover-loaded","true")}))}}}var j=n(922);class QuickApply{constructor(e){if(this.container=e.container||document.body,this.activated={},!("IntersectionObserver"in window))return;this.observer=new IntersectionObserver(((e,t)=>{for(const n of e)n.isIntersecting&&(this._activateAbtest(n.target),t.unobserve(n.target))}),{root:null,rootMargin:"0px",threshold:.5}),this.handleReload()}handleReload(){for(const e of document.querySelectorAll(".jobad-element-quickapply .btn[data-abtest-activate-url]"))this.observer.observe(e)}_activateAbtest(e){const t=e.getAttribute("data-abtest-activate-url");if(this.activated[t])return;this.activated[t]=!0;const n=e.getAttribute("data-abtest-context");(0,j.hi)("POST",t,{context:n})}}const _="[data-jobad-tid], .PaidJob, .jix_robotjob";class ElementsManagerEvent extends Event{}class ElementsManager extends EventTarget{constructor(e={}){super(),this.elements={menu:new Menu(e),myjob:new Myjob(this,e),myjob_interest:new MyjobInterest(this),distance:new a.ZP,share:new Share(e),quickapply:new QuickApply(e)},["jobdk","jobno"].includes(window.Stash.common.site)&&JIX.Login&&(this.elements.company_follow=new CompanyFollow)}handleReload(){for(let e of Object.values(this.elements))e.handleReload&&e.handleReload()}findJobAds(){return[...document.querySelectorAll(_)].filter((e=>!e.parentElement.closest(_)))}findClosestJobAd(e){return e.closest(_)}findOutermostJobAd(e){let t=e.get(0).closest(_);for(;t;){var n;const e=null===(n=t.parentElement)||void 0===n?void 0:n.closest(_);if(!e)break;t=e}return r()(t)}getJobadId(e){let t=(e=r()(e)).data("jobad-tid");if(!t){const n=e.find(".jix_toolbar").attr("id"),o=/jix_toolbar_(\w\d+)/.exec(n);o&&(t=o[1])}return t}replaceElements(e,t){if(e=r()(e),!t)return;const n=this.findClosestJobAd(e);for(const r of Object.keys(this.elements)){var o,a;if(t[r])null===(o=this.elements[r])||void 0===o||null===(a=o.replaceInstance)||void 0===a||a.call(o,n,t[r])}const s=new ElementsManagerEvent("replace");s.elementsData=t,this.dispatchEvent(s)}}},68987:(e,t,n)=>{"use strict";function showExplanation(e,t){let n=".explain-";n+="no_cv"===t?"nocv":"cv_not_online"===t?"offlinecv":"none"===t?"none":"dismiss"===t?"dismiss":"normal",e.find(".explain").hide(),e.find(n).show()}n.d(t,{Z:()=>showExplanation})},37165:(e,t,n)=>{"use strict";n.d(t,{Fs:()=>listMyjob,Sn:()=>deleteMyjob,VD:()=>batchUpdateMyjob,cH:()=>updateMyjob,l8:()=>createMyjob,sp:()=>batchDeleteMyjob,zU:()=>getAllowContactText});var o=n(922),r=n(12369);function api(e,t,n={}){const r="/api/user/myjob/v5/"+(Array.isArray(t)?t.join("/"):t),a="GET"===e?n:JSON.stringify(n);return(0,o.hi)(e,r,a,{headers:{"Content-Type":"application/json"}})}function listMyjob(e={}){return api("GET",["saved-jobs"],e)}function updateMyjob({tid:e},t={}){return api("PATCH",["saved-jobs",e],{myjob:t})}function batchUpdateMyjob({filter:e,patch:t}){return api("PATCH",["saved-jobs"],{filter:e,patch:t})}function deleteMyjob({tid:e}){return api("DELETE",["saved-jobs",e]).catch((e=>{if(!(e instanceof r.Z&&404===e.status))throw e}))}function batchDeleteMyjob({filter:e}){return api("DELETE",["saved-jobs"],{filter:e})}function createMyjob(e){return api("PUT",["saved-jobs",e.tid],{myjob:e})}function getAllowContactText({tid:e}){return(0,o.hi)("GET","/api/humanjob/v1/"+e+"/interesttext").then((({interesttext:e})=>e))}},2047:(e,t,n)=>{"use strict";n.d(t,{Z:()=>getProperty});var o=n(65311),r=n.n(o);function getProperty(e,t,n,o){return e.data(t)||e.parent().data(t)||n&&r()('meta[property="'+n+'"]').attr("content")||o}},91949:(e,t,n)=>{"use strict";n.d(t,{c:()=>setup});var o=n(2047),r=n(33722),a=n(23279),s=n.n(a);function setup(e,t={}){const n=t.linkSelector||".social-share-link",a=e.find(n),i=(0,o.Z)(a,"share-url","og:url","");if(i){a.prop("hidden",!1);const o=s()((()=>{new r.Z(i,{title:JIX.Gettext.__("Link til deling"),container:t.container}).open()}),1e3,{leading:!0,trailing:!1});e.on("click",n,(e=>{e.preventDefault(),o()}))}}},28459:(e,t,n)=>{"use strict";n.d(t,{B:()=>share,_:()=>isAvailable});var o=n(2047);function isAvailable(){return!!navigator.share}function share(e){const t=(0,o.Z)(e,"share-title","og:title",""),n=(0,o.Z)(e,"share-url","og:url","");navigator.share({title:t,url:n}).catch((e=>{e instanceof DOMException&&"AbortError"===e.name||window.Sentry.captureException(e)}))}},93597:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(60611),r=n(36138);const a=class{constructor(e,t){this._name=(0,o.ref)(e),this._app=(0,o.createApp)(r.Z,{name:this._name.value,size:t});const n=document.createElement("div");this._vm=this._app.mount(n)}setName(e){this._name.value=e}getVm(){return this._vm}getElement(){return this._vm.$el}}},33722:(e,t,n)=>{"use strict";n.d(t,{Z:()=>CopyValueModal});var o=n(65311),r=n.n(o),a=n(20779),s=n.n(a);const i={container:"body"};class CopyValueModal{constructor(e,t={}){this.value=e,this.options=Object.assign({},i,t),this.hasCopySupport=navigator.clipboard||document.queryCommandSupported&&document.queryCommandSupported("copy")}open(){if(this.box)return;const e=r()('<input type="text" class="form-control" readonly>').val(this.value),t={};this.hasCopySupport&&(t.noclose={label:JIX.Gettext.__("KopiÃ©r"),className:"btn-primary",callback:()=>(e.trigger("select"),navigator.clipboard?navigator.clipboard.writeText(e.val()):document.execCommand("copy"),!1)});const n=this.options.contentBefore?r()("<div>").append(this.options.contentBefore).append(e):e;this.box=s().dialog({title:this.options.title,message:n.get(0),buttons:t,onEscape:!0,backdrop:!0,container:this.options.container}),this.box.on("shown.bs.modal",(()=>{e.trigger("select")}))}destroy(){this.box&&(this.box.remove(),this.box.modal("dispose"),this.box=null)}}},80947:(e,t,n)=>{"use strict";n.d(t,{Z:()=>getToastMananger});var o=n(65311),r=n.n(o),a=(n(75956),n(93597));const{__:s}=JIX.Gettext,i=["danger","info","success","warning"];class Toast{constructor({title:e,message:t,button:n,buttonSecondary:o,type:c,autohide:l=!0,delay:d=1e4}){this.autohide=l,this.delay=d;const u=this._element=document.createElement("div");u.classList.add("toast","hide","fade"),u.setAttribute("role","alert"),u.setAttribute("aria-live","assertive"),u.setAttribute("aria-atomic","true");const h=new a.Z("button-close","micro").getElement();h.setAttribute("role","presentation");const p=document.createElement("button");p.setAttribute("type","button"),p.setAttribute("aria-label",s("Luk")),p.classList.add("ml-2","mb-1","close"),p.addEventListener("click",(()=>this.hide())),p.appendChild(h);const m=document.createElement("strong");m.classList.add("mr-auto"),m.innerText=e;const f=document.createElement("div");f.classList.add("toast-header"),f.appendChild(m),f.appendChild(p);const b=document.createElement("div");if(b.classList.add("toast-body"),b.innerText=t,c){if(!i.includes(c))throw new Error(`Invalid toast type '${c}'`);const e="text-"+c;f.classList.add(e),b.classList.add(e),p.classList.add(e)}u.appendChild(f),u.appendChild(b);const g=[o,n].filter((e=>!!e)).map((e=>{if(!e.label||!e.callback)throw new Error("Invalid button");let t="btn-tertiary";const n=e.type||c;n&&(t+="-"+n);const o=document.createElement("button");return o.innerText=e.label,o.setAttribute("type","button"),o.classList.add("btn","btn-sm","btn-tertiary",t),o.addEventListener("click",(()=>{e.callback()&&this.hide()})),o}));if(g.length>0){const e=document.createElement("div");e.classList.add("toast-body","btn-container","pt-1","d-flex"),e.classList.add(g.length>1?"justify-content-between":"justify-content-end"),e.append(...g),u.append(e)}this._bsToast=r()(u).toast({autohide:!1}),this._bsToast.on("hidden.bs.toast",(()=>this._bsToast.remove())),this.autohide&&(u.addEventListener("mouseenter",(()=>this._clearTimeout())),u.addEventListener("mouseleave",(()=>this._autohideTimeout())))}get element(){return this._element}show(){return this._bsToast.toast("show"),this._autohideTimeout(),this}hide(){return this._bsToast.toast("hide"),this}_clearTimeout(){this._timeoutId&&clearTimeout(this._timeoutId)}_autohideTimeout(){this._clearTimeout(),this.autohide&&(this._timeoutId=setTimeout((()=>{this.hide()}),this.delay))}}class ToastManager{constructor(){let e=document.getElementById("toast-container");e||(e=document.createElement("div"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),e.classList.add("toast-container"),document.body.appendChild(e)),this._container=e}createToast(e){const t=new Toast(e);return this._container.appendChild(t.element),t}}let c;function getToastMananger(){return c||(c=new ToastManager),c}},922:(e,t,n)=>{"use strict";n.d(t,{Bk:()=>concatName,Dk:()=>setDocumentTitle,HT:()=>compareResponsiveBreakpoint,JB:()=>getNumberFormatter,Kd:()=>getLocale,LQ:()=>d,Nb:()=>uniqueArray,QM:()=>formatByteSize,Sy:()=>shuffleArray,Vt:()=>stripHtml,WU:()=>format,ZO:()=>getResponsiveBreakpoint,aS:()=>truncateString,hi:()=>api,ks:()=>getCurrencyFormatter});var o=n(65311),r=n.n(o),a=n(53495),s=n(12369),i=n(2871),c=n(2784),l=n(60611);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function shuffleArray(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1)),o=e[t];e[t]=e[n],e[n]=o}return e}function uniqueArray(e){return e.filter(((e,t,n)=>n.indexOf(e)===t))}function concatName({firstname:e,middlename:t,lastname:n}){return[e,t,n].join(" ").trim()}function format(e,t){return Object.keys(t).reduce(((e,n)=>e.replace(new RegExp("{"+n+"}","g"),t[n])),e)}function getCurrencyFormatter(e,t=getLocale()){return new Intl.NumberFormat(t,{style:"currency",currency:e,minimumFractionDigits:0})}function getNumberFormatter(e=getLocale()){return new Intl.NumberFormat(e)}function formatByteSize(e,t="MB",n="B"){let o={B:0,KB:1,MB:2,GB:3,TB:4},r=o[n]-o[t];return(e*Math.pow(1024,r)).toFixed(2)}function api(e,t,n={},o={}){const l=function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({method:e,url:t,data:n,traditional:!0,headers:{}},o);return window.Stash&&window.Stash.common&&window.Stash.common.csrf_token&&(l.headers["X-CSRF-Token"]=window.Stash.common.csrf_token),(0,a.Z)(r().ajax(l)).catch((n=>{throw 422===n.status?new i.Z(e,t,n):409===n.status?new c.Z(e,t,n):new s.Z(e,t,n)}))}const d=["xs","sm","md","lg","xl"];function getResponsiveBreakpoint(){const e=window.innerWidth;return e>=1200?"xl":e>=992?"lg":e>=768?"md":e>=576?"sm":"xs"}function compareResponsiveBreakpoint(e){const t=d.indexOf(e);if(t<0)throw Error("Invalid breakpoint");const n=getResponsiveBreakpoint(),o=d.indexOf(n);return Math.sign(o-t)}function getLocale(e="en-GB"){return document.querySelector("html").getAttribute("lang")||e}function stripHtml(e){const t=document.createElement("div");return t.innerHTML=e,t.textContent}function truncateString(e,t,n="â¦"){if(e.length<=t)return e;const o=t-n.length;return[...e].slice(0,o).join("")+n}function setDocumentTitle(e){if(e){let t=(0,l.unref)(e);t=Array.isArray(t)?t:[t],document.title=[...t,window.Stash.common.sitename].join(" | ")}else document.title=window.Stash.common.sitename}},37099:(e,t,n)=>{"use strict";n.d(t,{X:()=>checkLogin,n:()=>o});const o=Object.freeze({LOGGED_IN:"logged_in",ALREADY_LOGGED_IN:"already_logged_in",ABORTED:"aborted",UNKNOWN:"unknown"});function promisifyLoginCallback(e,{resolve:t}){e.cancelled?t(o.ABORTED):e.success?t(o.LOGGED_IN):t(o.ALREADY_LOGGED_IN)}function checkLogin(){return new Promise(((e,t)=>{var n,r;null!==(n=window)&&void 0!==n&&null!==(r=n.JIX)&&void 0!==r&&r.Login?window.JIX.Login.verify_login("user",promisifyLoginCallback,{resolve:e}):e(o.UNKNOWN)}))}},74933:(e,t,n)=>{"use strict";function promisifyDialog(e,t){return new Promise(((n,o)=>{const acceptCallback=()=>{n({accepted:!0}),e.modal("hide")};e.one("click",t,acceptCallback),e.one("hide.bs.modal",(()=>{e.off("click",t,acceptCallback),n({accepted:!1})}))}))}n.d(t,{Z:()=>promisifyDialog})},53495:(e,t,n)=>{"use strict";function toNativePromise(e){return new Promise(((t,n)=>{e.then(t,n)}))}n.d(t,{Z:()=>toNativePromise})},60611:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BaseTransition:()=>o.P$,BaseTransitionPropsValidators:()=>o.nJ,Comment:()=>o.sv,EffectScope:()=>o.Bj,Fragment:()=>o.HY,KeepAlive:()=>o.Ob,ReactiveEffect:()=>o.qq,Static:()=>o.qG,Suspense:()=>o.n4,Teleport:()=>o.lR,Text:()=>o.xv,Transition:()=>o.uT,TransitionGroup:()=>o.W3,VueElement:()=>o.a2,VueSentry:()=>s,assertNumber:()=>o.Wu,callWithAsyncErrorHandling:()=>o.$d,callWithErrorHandling:()=>o.KU,camelize:()=>o._A,capitalize:()=>o.kC,cloneVNode:()=>o.Ho,compatUtils:()=>o.ry,compile:()=>o.MY,computed:()=>o.Fl,createApp:()=>createApp,createBlock:()=>o.j4,createCommentVNode:()=>o.kq,createElementBlock:()=>o.iD,createElementVNode:()=>o._,createHydrationRenderer:()=>o.Eo,createPropsRestProxy:()=>o.p1,createRenderer:()=>o.Us,createSSRApp:()=>o.vr,createSlots:()=>o.Nv,createStaticVNode:()=>o.uE,createTextVNode:()=>o.Uk,createVNode:()=>o.Wm,customRef:()=>o.ZM,defineAsyncComponent:()=>o.RC,defineComponent:()=>o.aZ,defineCustomElement:()=>o.MW,defineEmits:()=>o.Bz,defineExpose:()=>o.WY,defineModel:()=>o.Gn,defineOptions:()=>o.Yu,defineProps:()=>o.yb,defineSSRCustomElement:()=>o.Ah,defineSlots:()=>o.Wl,devtools:()=>o.mW,effect:()=>o.cE,effectScope:()=>o.B,getCurrentInstance:()=>o.FN,getCurrentScope:()=>o.nZ,getTransitionRawChildren:()=>o.Q6,guardReactiveProps:()=>o.F4,h:()=>o.h,handleError:()=>o.S3,hasInjectionContext:()=>o.EM,hydrate:()=>o.ZB,initCustomFormatter:()=>o.Mr,initDirectivesForSSR:()=>o.Nd,inject:()=>o.f3,isMemoSame:()=>o.nQ,isProxy:()=>o.X3,isReactive:()=>o.PG,isReadonly:()=>o.$y,isRef:()=>o.dq,isRuntimeOnly:()=>o.of,isShallow:()=>o.yT,isVNode:()=>o.lA,markRaw:()=>o.Xl,mergeDefaults:()=>o.u_,mergeModels:()=>o.Vf,mergeProps:()=>o.dG,nextTick:()=>o.Y3,normalizeClass:()=>o.C_,normalizeProps:()=>o.vs,normalizeStyle:()=>o.j5,onActivated:()=>o.dl,onBeforeMount:()=>o.wF,onBeforeUnmount:()=>o.Jd,onBeforeUpdate:()=>o.Xn,onDeactivated:()=>o.se,onErrorCaptured:()=>o.d1,onMounted:()=>o.bv,onRenderTracked:()=>o.bT,onRenderTriggered:()=>o.Yq,onScopeDispose:()=>o.EB,onServerPrefetch:()=>o.vl,onUnmounted:()=>o.SK,onUpdated:()=>o.ic,openBlock:()=>o.wg,popScopeId:()=>o.Cn,provide:()=>o.JJ,proxyRefs:()=>o.WL,pushScopeId:()=>o.dD,queuePostFlushCb:()=>o.qb,reactive:()=>o.qj,readonly:()=>o.OT,ref:()=>o.iH,registerRuntimeCompiler:()=>o.Y1,render:()=>o.sY,renderList:()=>o.Ko,renderSlot:()=>o.WI,resolveComponent:()=>o.up,resolveDirective:()=>o.Q2,resolveDynamicComponent:()=>o.LL,resolveFilter:()=>o.eq,resolveTransitionHooks:()=>o.U2,setBlockTracking:()=>o.qZ,setDevtoolsHook:()=>o.ec,setTransitionHooks:()=>o.nK,shallowReactive:()=>o.Um,shallowReadonly:()=>o.YS,shallowRef:()=>o.XI,ssrContextKey:()=>o.Uc,ssrUtils:()=>o.G,stop:()=>o.sT,toDisplayString:()=>o.zw,toHandlerKey:()=>o.hR,toHandlers:()=>o.mx,toRaw:()=>o.IU,toRef:()=>o.Vh,toRefs:()=>o.BK,toValue:()=>o.Tn,transformVNodeArgs:()=>o.C3,triggerRef:()=>o.oR,unref:()=>o.SU,useAttrs:()=>o.l1,useCssModule:()=>o.fb,useCssVars:()=>o.sj,useModel:()=>o.tT,useSSRContext:()=>o.Zq,useSlots:()=>o.Rr,useTransitionState:()=>o.Y8,vModelCheckbox:()=>o.e8,vModelDynamic:()=>o.YZ,vModelRadio:()=>o.G2,vModelSelect:()=>o.bM,vModelText:()=>o.nr,vShow:()=>o.F8,version:()=>o.i8,warn:()=>o.ZK,watch:()=>o.YP,watchEffect:()=>o.m0,watchPostEffect:()=>o.Rh,watchSyncEffect:()=>o.yX,withAsyncContext:()=>o.mv,withCtx:()=>o.w5,withDefaults:()=>o.b9,withDirectives:()=>o.wy,withKeys:()=>o.D2,withMemo:()=>o.MX,withModifiers:()=>o.iM,withScopeId:()=>o.HX});var o=n(29812),r=n(77594),a=n(77444);const s={install(e){(0,a.W)(e,{logErrors:!0})}};function createApp(...e){return(0,r.ri)(...e).use(s)}},36138:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(60611);const r=["xlink:href"],a={__name:"SvgIcon",props:{name:{type:String,required:!0},size:{type:String,required:!1,default:()=>"inline",validator:e=>["inline","micro","mini","xs","sm","md","lg"].includes(e)}},setup:e=>(t,n)=>((0,o.openBlock)(),(0,o.createElementBlock)("svg",{class:(0,o.normalizeClass)(["svg-icon","svg-icon--"+e.size])},[(0,o.createElementVNode)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#svg-"+e.name},null,8,r)],2))}},42065:()=>{},63091:()=>{},19606:()=>{},31916:()=>{},52429:()=>{},35098:()=>{},62428:()=>{},75956:()=>{}}]);
//# sourceMappingURL=4821.3a361c6698a22d0afe1a.bundle.js.map