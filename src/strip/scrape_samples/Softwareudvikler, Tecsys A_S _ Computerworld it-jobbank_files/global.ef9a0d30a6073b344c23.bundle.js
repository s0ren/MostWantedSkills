"use strict";(self.webpackChunkjix=self.webpackChunkjix||[]).push([[2172],{8324:(e,t,n)=>{var i=n(65311),o=n.n(i);function setAriaExpand(e,t){e.setAttribute("aria-expanded",t),e.setAttribute("aria-hidden",!t)}function dataset(e,t){if("dataset"in e){const n=t.replace(/-([a-z])/gi,((e,t)=>t.toUpperCase()));return e.dataset[n]}return e.getAttribute("data-"+t)}function addEvents(e,t,n){for(const i of e)if(window.jixAnalytics){const e={category:t,action:dataset(i,"click-action")||n,label:(dataset(i,"click-label")||i.getAttribute("title")||i.innerText||i.textContent).toLowerCase().trim().replace(/\s+/g,"-").replace(/[.?,]/g,"")};i.addEventListener("click",(()=>window.jixAnalytics("event",e)))}}new class Header{constructor(){this.mainNav=document.querySelector("#main-navigation"),this.onClick=this.onClick.bind(this),this.onProfileClick=this.onProfileClick.bind(this),this.mainNav&&this.init()}init(){this.top=document.documentElement;const e=document.querySelector(".hamburger");this.burgerContainer=document.querySelector(".hamburger-container"),this.profiles=document.querySelectorAll(".open-profile"),this.profileContainer=document.querySelector(".profile-container"),this.profileBox=document.querySelector(".profile-box"),e&&(e.addEventListener("click",(t=>this.onClick(t,e))),document.querySelector(".mobile-background").addEventListener("click",(()=>this.setMobileMenuState(!1))));for(const t of this.profiles)t.addEventListener("click",(e=>this.onProfileClick(e,t)));this.mainNav&&this.initMainNav()}initMainNav(){const e=document.querySelector(".megamenu-curtain"),t=this.mainNav.querySelectorAll(".megamenu"),n=this.mainNav.querySelectorAll("ul li");let i=null;const closeMegamenus=()=>{for(const e of t)e.style.height="0px",setAriaExpand(e,!1);e.style.height="0px";for(const e of n){e.classList.remove("active");const t=e.querySelector(".main-nav-link");t&&t.setAttribute("aria-expanded",!1)}document.documentElement.classList.remove("showing-megamenu")},openMegamenu=t=>{const n=t.parentElement,i=n.querySelector(".megamenu");closeMegamenus(),document.documentElement.classList.add("showing-megamenu"),n.classList.add("active"),setAriaExpand(i,!0),t.setAttribute("aria-expanded",!0);const o=function getOuterHeight(e){const t=getComputedStyle(e);return e.offsetHeight+parseInt(t.marginTop,10)+parseInt(t.marginBottom,10)}(i.querySelector(".row"));i.style.height=e.style.height=o+"px"},o=this.mainNav.querySelectorAll(".main-nav-link[role=button]"),megamenuClickHandler=e=>{e.preventDefault();const t=e.currentTarget;"true"===t.getAttribute("aria-expanded")?i!==t?i=t:(i=null,closeMegamenus()):(i=t,openMegamenu(t))};for(const s of o)s.addEventListener("click",megamenuClickHandler);{let e,t=null;const mouseenterHandler=n=>{const i=n.target;t=i,e&&clearTimeout(e),e=setTimeout((()=>{t===i&&(openMegamenu(i.querySelector(".main-nav-link")),this.closeProfileContainer())}),500)},mouseleaveHandler=()=>{t=null,setTimeout((()=>{null===t&&null===i&&(i=null,closeMegamenus())}),500)};for(const n of o){const e=n.parentElement;e.addEventListener("mouseenter",mouseenterHandler),e.addEventListener("mouseleave",mouseleaveHandler)}}document.addEventListener("click",(t=>{[this.mainNav,e].some((e=>e.contains(t.target)))||(i=null,closeMegamenus()),this.profiles&&![...this.profiles,this.profileContainer].some((e=>e.contains(t.target)))&&this.closeProfileContainer()}))}initSwipeClose(){let e,t,n,i=!1,o=!1;const s=document.querySelector(".container-navigation"),a=document.querySelector(".mobile-background"),isOpen=()=>this.top.classList.contains("active-menu");document.addEventListener("touchstart",(i=>{isOpen()&&(e=i.touches[0],n=s.clientWidth,t=getComputedStyle(a).opacity)}),!1);const move=e=>{o=!0;const i=Math.min(e,0),r=Math.max(Math.abs(i)/n,0);a.style.opacity=(1-r)*t,s.style.transitionTimingFunction="linear",s.style.transform="translateX("+i+"px)"},reset=()=>{o=!1,s.style.transform=null,s.style.transitionTimingFunction=null,a.style.opacity=null,e=null};this.resetSwipe=reset,document.addEventListener("touchmove",(t=>{if(!e)return;const n=t.touches[0],o=n.clientX-e.clientX,s=n.clientY-e.clientY;Math.abs(o)>Math.abs(s)&&(move(o),i=o<-100)}),!1),document.addEventListener("touchend",(()=>{o&&(i?(this.setMobileMenuState(!1),i=!1):move(0),reset())}),!1)}setMobileMenuState(e){this.top.classList.toggle("active-menu",e)}onClick(){const e=this.top.classList.contains("active-menu");this.setMobileMenuState(!e)}closeProfileContainer(){for(const e of this.profiles)e.classList.remove("active"),this.profileContainer.style.height="0px",e.closest(".logged-in").classList.remove("is-active"),setAriaExpand(e,!1),setAriaExpand(this.profileContainer,!1)}onProfileClick(e,t){e.preventDefault();const n=this.profileBox.offsetHeight;t.classList.contains("active")?this.closeProfileContainer():(t.classList.add("active"),this.profileContainer.style.height=n+"px",t.closest(".logged-in").classList.add("is-active"),this.setMobileMenuState(!1),setAriaExpand(t,!0),setAriaExpand(this.profileContainer,!0))}},function initLightboxes(){o()(".modal-lightbox").on("hide.bs.modal",(function(){const e=o()(this).find("iframe");e.length&&e.attr("src",e.attr("src"))}))}(),function initSelectableOptgroups(){for(const e of document.querySelectorAll("select[data-selectable-optgroups] optgroup"))e.addEventListener("click",(t=>{t.target!==e||document.elementFromPoint(t.x,t.y)!==e||e.disabled||(t.ctrlKey||e.parentElement.querySelectorAll("option").forEach((e=>e.selected=!1)),e.querySelectorAll("option").forEach((e=>e.selected=!0)),e.parentElement.dispatchEvent(new Event("change")))}))}(),o()((function initAnalytics(){!function initHeaderAnalytics(){const e=document.querySelector("header.site-header"),t=document.querySelector("nav.site-header"),n=document.body.classList.contains("jix-employer")?"topmenu-arbejdsgiver":"topmenu-jobsoeger";for(const i of[e,t])i&&addEvents(i.querySelectorAll("a[href]"),n,"click-top")}(),function initFooterAnalytics(){const e=document.querySelector("#site-footer");if(!e)return;addEvents(e.querySelectorAll("a[href]"),"footer","click")}(),function initBottomNavAnalytics(){const e=document.querySelector(".nav-bottom");if(!e)return;addEvents(e.querySelectorAll('a[href]:not([aria-haspopup="true"])'),"nav-bottom","click")}()}))},65311:e=>{e.exports=jQuery}},e=>{var t;t=8324,e(e.s=t)}]);
//# sourceMappingURL=global.ef9a0d30a6073b344c23.bundle.js.map